{% extends "Authentication/base.html" %}
{% block content %}
<form method="post" enctype="multipart/form-data">
    {% csrf_token%}
    <label for="reg_num" class="control-label">Reg Number</label>
    <input type="text" id="reg_num" name="reg_num" visible="true" />
    <span id="regError" style="display: None;">No user with this reg_num </span>
    <label for="old_password" class="control-label">Old Password</label>
    <input type="password" id="old_password" name="old_password" visible="true" />
    <label for="new_password" class="control-label">New Password</label>
    <input type="password" id="new_password" name="new_password" visible="true" />
    <label for="new_password_confirm" class="control-label">New Password</label>
    <input type="password" id="new_password_confirm" name="new_password_confirm" visible="true" />
    <span id="error" style="display: None;">Both passwords must match, recheck and try again</span>
    <button type="button" onclick="processData()">Submit</button>
</form>
<script>
    function processData() {
        console.log('Processsing');
        // get the datas
        const reg_num = document.getElementById('reg_num').value;
        const new_password = document.getElementById('new_password').value;
        const new_password_confirm = document.getElementById('new_password_confirm').value;
        const error = document.getElementById('error');

        // check if both values correspond
        if (new_password != new_password_confirm) {
            error.style.display = 'block';
        } else {
            error.style.display = 'block';
        }

        // check if the user exists
        
        alert('data seen not sent to the backend');
    }
</script>
{% endblock content %}