{% extends "Authentication/base.html" %}
{% block content %}
<form class="form" method="post" enctype="multipart/form-data">
    {% csrf_token%}
    <div class="form-group">
        <label for="reg_num">Reg Number</label>
        <input type="text" id="reg_num" class="form-control" name="reg_num" visible="true" />
        <small class="form-text text-muted">Enter your Reg number: <b>ALIS:01:01:ABC</b></small>
        <span id="regError" style="display: None;">No user with this reg_num </span>
    </div>
    <div class="form-group">
        <label for="old_password">Old Password</label>
        <input type="password" id="old_password" class="form-control" name="old_password" visible="true" />
    </div>
    <div class="form-group">
        <label for="new_password" class="control-label">New Password</label>
        <input type="password" id="new_password" class="form-control" name="new_password" visible="true" />
    </div>
    <div class="form-group">
        <label for="new_password_confirm" class="control-label">New Password</label>
        <input type="password" id="new_password_confirm" class="form-control" name="new_password_confirm" visible="true" />
        <span id="error" style="display: None;">Both passwords must match, recheck and try again</span>
    </div>
</form>
<button type="button" class="btn btn-primary" onclick="processData()">Submit</button>
<script>
    function processData() {
        console.log('Processsing');
        // get the datas
        const reg_num = document.getElementById('reg_num').value;
        const new_password = document.getElementById('new_password').value;
        const new_password_confirm = document.getElementById('new_password_confirm').value;
        const error = document.getElementById('error');

        // check if both values correspond
        if (new_password != new_password_confirm) {
            error.style.display = 'block';
        } else {
            error.style.display = 'none';
        }

        // check if the user exists

        alert('data seen not sent to the backend');
    }
</script>
{% endblock content %}